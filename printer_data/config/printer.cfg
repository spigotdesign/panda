[include shell_command.cfg]
[include fluidd.cfg]
[include mainsail.cfg]
[include tuning/tuning.cfg]
[include cartographer.cfg]
[include K-ShakeTune/*.cfg]

## General Settings
[virtual_sdcard]
path: /home/biqu/printer_data/gcodes
on_error_gcode: CANCEL_PRINT

[include core/variables.cfg]

[idle_timeout]
timeout: 2400
gcode:
    RESPOND MSG="Idle timeout reached"
    TURN_OFF_HEATERS
    M84



#####################################################################
## 	                MCU
#####################################################################
[mcu]
# Query the ID of canbus：
# cd ~/CanBoot/scripts
# python3 flash_can.py -i can0 -q
canbus_uuid= d34bdfe3564a     
canbus_interface:can0

[mcu EBBCan]
canbus_uuid: d4d4bf93a883   

#####################################################################
##                     Model and acceleration
#####################################################################
[printer]
kinematics: corexy           # Printer type：corexy
max_velocity: 300            # Maximum speed (max. 300)
max_accel: 5000              # Maximum acceleration (max. 4000)
#max_accel_to_decel: 5000    # Maximum acceleration to deceleration (max. 4000) Deprecated
minimum_cruise_ratio: .5     # New parameter
max_z_velocity: 15           # Z-axis maximum speed
max_z_accel: 350             # Z-axis maximum acceleration
square_corner_velocity: 5.0  # Square corner speed

#####################################################################
##	                 Temperature Monitoring
#####################################################################
[include core/temperature_monitoring.cfg]

#####################################################################
##                  Axes and Steppers
#####################################################################
[include core/axes.cfg]

#####################################################################
##                  Extruder motor
#####################################################################
[include core/extruder.cfg]

#####################################################################
##                  Filament Inspection
#####################################################################
[include core/filament.cfg]

#####################################################################
## Heater Bed
#####################################################################
[include core/bed.cfg]

#####################################################################
## Bed Grid Calibration
#####################################################################
[include core/bed_calibration.cfg]

#####################################################################
## FANS
#####################################################################
[include core/fans.cfg]

#####################################################################
## LEDs
#####################################################################
[include core/leds.cfg]

#####################################################################
## 	                ADXL & Input Shaping
#####################################################################
[include core/input_shaper.cfg]

[board_pins]
aliases:
    # EXP1 header
    EXP1_1=PE8, EXP1_2=PE7,
    EXP1_3=PE9, EXP1_4=PE10,
    EXP1_5=PE12, EXP1_6=PE13,       # Slot in the socket on this side
    EXP1_7=PE14, EXP1_8=PE15,
    EXP1_9=<GND>, EXP1_10=<5V>,

    # EXP2 header
    EXP2_1=PA6, EXP2_2=PA5,
    EXP2_3=PB1, EXP2_4=PA4,
    EXP2_5=PB2, EXP2_6=PA7,         # Slot in the socket on this side
    EXP2_7=PC15, EXP2_8=<RST>,
    EXP2_9=<GND>, EXP2_10=PC5

#--------------------------------------------------------------------


#####################################################################
#	                GCODE MACROS 
#####################################################################
[include macros/print_start.cfg]
[include macros/print_end.cfg]
[include macros/pause_resume_cancel.cfg]
[include macros/filament_change.cfg]
[exclude_object]



[gcode_macro G32]
gcode:
    BED_MESH_CLEAR               # Unloading net beds
    G28                            # Homing all axes
    QUAD_GANTRY_LEVEL            # Gantry levelling
    G28                            # Homing all axes
    G0 X150 Y150 Z30 F3600         # 300mm
    #G0 X175 Y175 Z30 F3600         # 350mm

#--------------------------------------------------------------------


#--------------------------------------------------------------------


#--------------------------------------------------------------------

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [cartographer model default]
#*# model_coef = 1.4403784784445217,
#*# 	1.870296061601486,
#*# 	0.7679156509140059,
#*# 	0.3618838711348067,
#*# 	0.3089985474322939,
#*# 	0.22893310241979092,
#*# 	-0.1918388662813721,
#*# 	-0.11322394661151126,
#*# 	0.22497782728902357,
#*# 	0.10384898260377126
#*# model_domain = 3.281566793333469e-07,3.37715218201354e-07
#*# model_range = 0.100000,5.000000
#*# model_temp = 29.767207
#*# model_offset = -0.03500
#*#
#*# [cartographer model textured-pei]
#*# model_coef = 1.4403784784445217,
#*# 	  1.870296061601486,
#*# 	  0.7679156509140059,
#*# 	  0.3618838711348067,
#*# 	  0.3089985474322939,
#*# 	  0.22893310241979092,
#*# 	  -0.1918388662813721,
#*# 	  -0.11322394661151126,
#*# 	  0.22497782728902357,
#*# 	  0.10384898260377126
#*# model_domain = 3.281566793333469e-07,3.37715218201354e-07
#*# model_range = 0.100000,5.000000
#*# model_temp = 29.767207
#*# model_offset = 0.05500
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	  -0.051787, -0.057450, -0.051308, -0.022265, -0.067728, -0.101505, -0.080850, -0.054309, -0.046599, -0.049958, -0.031908, -0.019897, -0.050396, -0.077549, -0.063876
#*# 	  -0.041596, -0.047001, -0.037386, -0.003160, -0.047109, -0.083941, -0.063869, -0.034186, -0.027654, -0.033675, -0.011689, 0.002382, -0.028272, -0.053736, -0.039790
#*# 	  -0.037942, -0.041812, -0.029504, 0.007426, -0.031405, -0.065892, -0.053677, -0.025268, -0.014493, -0.021641, -0.001836, 0.012112, -0.019543, -0.039707, -0.024615
#*# 	  -0.036726, -0.040052, -0.026735, 0.015951, -0.014073, -0.046204, -0.038498, -0.015829, -0.005403, -0.012539, 0.006043, 0.020838, -0.008725, -0.034508, -0.016374
#*# 	  -0.029803, -0.031878, -0.016154, 0.029686, -0.000222, -0.027642, -0.021491, -0.001971, 0.004105, -0.004964, 0.018324, 0.032724, -0.000917, -0.023048, -0.007321
#*# 	  -0.020996, -0.031987, -0.010682, 0.032435, -0.001125, -0.035645, -0.019840, 0.001745, 0.006884, -0.000140, 0.024224, 0.037857, 0.003545, -0.020893, -0.007753
#*# 	  -0.021009, -0.027025, -0.009691, 0.032889, -0.001193, -0.043443, -0.029426, 0.004767, 0.013540, 0.002849, 0.028636, 0.041521, 0.005094, -0.010092, 0.000712
#*# 	  -0.030771, -0.034624, -0.011048, 0.025511, -0.006776, -0.048287, -0.034026, 0.000000, 0.005330, 0.001876, 0.030021, 0.036910, 0.003588, -0.014387, 0.001817
#*# 	  -0.037480, -0.042928, -0.022406, 0.024601, -0.013997, -0.052843, -0.034272, -0.000977, 0.008899, 0.002105, 0.029296, 0.036097, 0.001773, -0.018698, -0.003883
#*# 	  -0.038077, -0.046337, -0.024643, 0.016927, -0.023010, -0.056671, -0.035782, -0.003095, 0.004929, -0.000813, 0.025156, 0.029307, 0.000492, -0.024331, -0.005494
#*# 	  -0.044086, -0.047659, -0.032208, 0.014842, -0.027405, -0.053541, -0.030980, 0.002254, 0.005391, 0.000237, 0.028251, 0.036741, -0.003595, -0.028396, 0.003094
#*# 	  -0.043114, -0.039114, -0.033644, 0.012638, -0.026758, -0.051921, -0.032952, -0.004985, -0.001802, -0.009704, 0.016894, 0.022638, -0.007889, -0.025974, -0.000460
#*# 	  -0.051330, -0.048902, -0.031870, 0.010626, -0.027769, -0.054390, -0.044143, -0.013498, -0.008586, -0.015065, 0.007279, 0.009548, -0.019621, -0.039287, -0.007773
#*# 	  -0.057080, -0.053566, -0.041151, 0.003174, -0.035495, -0.064177, -0.068270, -0.029241, -0.018573, -0.037886, -0.015868, -0.009536, -0.040288, -0.053320, -0.024523
#*# 	  -0.056943, -0.052885, -0.025561, 0.022535, -0.034952, -0.075757, -0.066073, -0.032511, -0.031629, -0.047129, -0.026277, -0.020214, -0.049787, -0.058760, -0.024327
#*# x_count = 15
#*# y_count = 15
#*# mesh_x_pps = 2
#*# mesh_y_pps = 2
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 30.0
#*# max_x = 270.0
#*# min_y = 30.0
#*# max_y = 270.0
#*#
#*# [heater_bed]
#*# control = pid
#*# pid_kp = 51.552
#*# pid_ki = 1.403
#*# pid_kd = 473.636
#*#
#*# [extruder]
#*# control = pid
#*# pid_kp = 25.500
#*# pid_ki = 2.152
#*# pid_kd = 75.542
#*#

